<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç©åˆ†ã‚¬ãƒãƒ£</title>

<!-- MathJaxï¼ˆå®‰å…¨è¨­å®šï¼‰ -->
<script>
window.MathJax = {
  tex: { inlineMath: [['$', '$']] },
  startup: { typeset: false }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" defer></script>

<style>
body {
  font-family: system-ui, sans-serif;
  background: #f5f5f5;
  margin: 0;
  padding: 16px;
}
.container {
  max-width: 480px;
  margin: auto;
  background: #fff;
  padding: 16px;
  border-radius: 12px;
}
button, select {
  width: 100%;
  font-size: 1.1rem;
  padding: 12px;
  margin-top: 10px;
}
button {
  background: #4f46e5;
  color: white;
  border: none;
  border-radius: 8px;
}
button.sub {
  background: #16a34a;
}
.box {
  margin-top: 16px;
  font-size: 1.2rem;
  min-height: 2em;
}
</style>
</head>

<body>
<div class="container">
  <h1>ğŸ² ç©åˆ†ã‚¬ãƒãƒ£</h1>

  <select id="level">
    <option value="easy">â˜… æ˜“ã—ã„</option>
    <option value="normal">â˜…â˜… æ™®é€š</option>
    <option value="hard">â˜…â˜…â˜… é›£ã—ã„</option>
  </select>

  <button id="spinBtn">ã‚¬ãƒãƒ£ã‚’å›ã™</button>
  <button id="ansBtn" class="sub">ç­”ãˆã‚’è¡¨ç¤º / éè¡¨ç¤º</button>

  <div id="q" class="box"></div>
  <div id="a" class="box" style="display:none;"></div>
</div>

<script>
const data = [
  { q: "\\int x\\,dx", a: "\\frac{x^2}{2}+C", level: "easy" },
  { q: "\\int \\sin x\\,dx", a: "-\\cos x+C", level: "easy" },

  { q: "\\int x\\sin x\\,dx", a: "-x\\cos x+\\sin x+C", level: "normal" },

  { q: "\\int \\frac{1}{\\cos x}\\,dx", a: "\\ln|\\sec x+\\tan x|+C", level: "hard" }
];

let current = null;

document.getElementById("spinBtn").addEventListener("click", () => {
  const level = document.getElementById("level").value;
  const pool = data.filter(d => d.level === level);
  if (pool.length === 0) return;

  current = pool[Math.floor(Math.random() * pool.length)];

  document.getElementById("q").innerHTML = "å•é¡Œï¼š$" + current.q + "$";
  document.getElementById("a").innerHTML = "ç­”ãˆï¼š$" + current.a + "$";
  document.getElementById("a").style.display = "none";

  if (window.MathJax) MathJax.typesetPromise();
});

document.getElementById("ansBtn").addEventListener("click", () => {
  if (!current) return;
  const a = document.getElementById("a");
  a.style.display = (a.style.display === "none") ? "block" : "none";
  if (window.MathJax) MathJax.typesetPromise();
});
</script>
</body>
</html>
